---
alwaysApply: true
description: "Ultimate Cursor AI Rules â€“ Next.js + Supabase + Tailwind + Shadcn UI"
---

# ğŸ¯ AI Prompting & Coding Philosophy

- Follow the userâ€™s requirements exactly and completely.
- Think step-by-step in detailed pseudocode before writing code.
- Focus on readable, maintainable, and modular code over performance.
- Do not leave placeholders or TODOs â€“ implement everything fully.
- Always validate user inputs and handle errors explicitly.
- Use early returns to reduce nesting and improve clarity.
- Avoid unnecessary abstractions or over-engineering.
- Keep generated code focused and minimal â€“ no extra commentary.
- Use `const` for arrow functions (`const handleClick = () => {}`).
- Use descriptive names for variables, functions, components.

---

# ğŸ’… Code Style and Structure

## âœ… Code Quality & Style

- Respect `.eslintrc`, `.prettierrc`, and project linting setup.
- Use TypeScript for all files.
- Prefer named exports over default exports.
- Avoid inline logic in JSX â€“ abstract into constants or helpers.
- Use descriptive variable names with auxiliary verbs (e.g., isLoading, hasError).
- Use type-safe utility functions in `lib/`.
- Write concise, technical TypeScript code with accurate examples.
- Use functional and declarative programming patterns; avoid classes.
- Prefer iteration and modularization over code duplication.
- Use descriptive variable names with auxiliary verbs (e.g., isLoading, hasError).
- Structure files: exported component, subcomponents, helpers, static content, types.

## ğŸ”  Naming Conventions

- Variables: `camelCase`
- Types/Interfaces: `PascalCase`
- File names: `kebab-case` or `camelCase` (project-specific)
- Events: Start with `handle` (e.g., `handleChange`, `handleSubmit`)
- Constants: Uppercase with underscores (`API_URL`)

## ğŸ”§ Syntax & Formatting

- Use Prettier formatting.
- Max 80â€“100 characters per line.
- No semicolons if your Prettier config omits them.
- Group and sort imports logically (React, then external, then local).
- Remove all unused imports and variables.
- Add meaningful inline comments only where needed â€” don't over-comment obvious logic.

## ğŸš€ Performance Optimization

- Use `useMemo`, `useCallback`, and lazy loading to avoid unnecessary renders.
- Lazy load heavy client-only components or libraries using `dynamic()`.
- Use Suspense and loading UI responsibly for Server Components.
- Debounce rapid state updates (e.g., search inputs).
- Fetch only necessary fields from Supabase or APIs.
- Minimize 'use client', 'useEffect', and 'setState'; favor React Server Components (RSC).
- Wrap client components in Suspense with fallback.
- Use dynamic loading for non-critical components.
- Optimize images: use WebP format, include size data, implement lazy loading.

---

# ğŸ§± Stack & Framework Conventions

## âœ… App Router (Next.js)

- Use `app/` directory, not `pages/`.
- Use Server Components by default.
- Use `use client` sparingly and only for interactive components.
- Prefer server-side form actions or route handlers.
- Export `metadata` for SEO per layout or route.

## ğŸ§¬ Data Fetching

- Prefer `async/await` in Server Components and route handlers.
- Use Supabase client in `lib/supabase/`.
- For parallel data fetching, use `Promise.all`.
- Always use loading and error states in UI.
- Use revalidation with `fetch(..., { next: { revalidate: ... } })`.

## ğŸ” State Management

- Prefer local component state (`useState`, `useReducer`) over libraries.
- Use server state from Supabase instead of duplicating on client.
- For global client state, use `zustand`, `jotai`, or `context`, not Redux.

---

# ğŸ¨ Styling & UI Rules

## âœ… Tailwind + Shadcn UI

- Use Tailwind CSS classes for all UI styling.
- Use `class:` bindings instead of ternary operations.
- Tailwind class order: Layout â†’ Flex/Grid â†’ Spacing â†’ Color â†’ Typography
- Never use custom CSS unless required.
- Use shadcn/ui components from `@/components/ui/...`
- Compose components (e.g., `Dialog + Button + Form`)
- Put reusable form components in `components/form/`.

---

# â™¿ Accessibility

- All interactive elements must support keyboard and screen readers:
  - `tabIndex="0"`, `aria-label`, `role`, `onClick`, `onKeyDown`
- Use semantic elements (`button`, `a`, `form`, `fieldset`)
- Label all inputs and controls properly.

---

# âš™ï¸ Supabase Integration

- Place Supabase config in `lib/supabase/client.ts`.
- Handle auth and DB logic in `services/supabase/`.
- Use `try/catch` for every Supabase API call.
- Use TypeScript types (`infer`) from Supabase responses.
- Avoid hardcoding table or column names in multiple places.

---

# âœ… Forms & Validation with Zod

- Define schemas in `schemas/` folder.
- Use `zodResolver` with `react-hook-form`.
- Validate both on client and server.

---

# ğŸ› ï¸ Create 'Build Notes'

When generating code that spans multiple files or layers:
- Include a short note on:
  - New files created
  - Key logic overview
  - Required changes to existing components
  - Any CLI commands to run (`npx supabase db push`, etc.)

---

# ğŸ“ Recommended Folder Structure

```txt
app/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ settings/
components/
â”œâ”€â”€ ui/                â†’ shadcn/ui components
â”œâ”€â”€ common/            â†’ Shared UI blocks
â”œâ”€â”€ form/              â†’ Form inputs and logic
lib/
â”œâ”€â”€ supabase/          â†’ Supabase client and helpers
â”œâ”€â”€ utils.ts           â†’ General util functions
services/
â”œâ”€â”€ supabase/          â†’ Auth and DB logic
schemas/
â”œâ”€â”€ user.schema.ts     â†’ Zod schemas and types
types/
â”œâ”€â”€ index.ts           â†’ Global types and enums
public/
â”œâ”€â”€ images/
styles/
â”œâ”€â”€ globals.css
.env.local
README.md
SUPABASE_SCHEMA.md
TODO.md
tailwind.config.ts
tsconfig.json
